# Структура проекта MAK (кафе-игра)

## Технологии

- **Python 3**
- **Arcade** — библиотека для 2D-игр (окно, отрисовка, спрайты, звук, ввод)

---

## Точка входа

- **`main.py`** — создаёт окно `FastFoodGame(1920, 1080, "MAK")`, вызывает `setup()` и `arcade.run()`.

---

## Основные классы

### `game.py`

| Класс | Назначение |
|-------|------------|
| **FastFoodGame** (наследник `arcade.Window`) | Главное окно игры. Состояния: `MENU`, `PLAYING`, `PAUSED`, `GAME_OVER`. Управляет фоном, шефом, оборудованием, вызовом менеджеров (уровни, клиенты, еда, заказы, UI). Обрабатывает `on_draw`, `on_update`, `on_key_press`, `on_mouse_press`, `on_mouse_motion`. Режим кухни (`show_cooking_frame`) переключается по K или ESC. |

### `ui.py`

| Класс | Назначение |
|-------|------------|
| **Button** | Кнопка с координатами центра (x, y), размером (width, height), цветом, текстом и callback. Методы: `draw()`, `check_click(x, y)`, `check_hover(x, y)`. |
| **UIManager** | Управляет кнопками меню (START GAME, EXIT GAME), отрисовкой HUD (деньги, счёт, время, уровень, корзина, кнопка KITCHEN), кликами по HUD. Использует `_apply_menu_button_positions()` чтобы кнопки не наезжали друг на друга и на текст на экране Game Over. |

### `levels.py`

| Класс | Назначение |
|-------|------------|
| **Level** | Параметры уровня: номер, кол-во клиентов, стартовые деньги, целевой счёт, доступные ингредиенты, лимит времени. |
| **LevelManager** | Загрузка уровня, учёт времени уровня, проверка завершения (достигнут ли целевой счёт). |

### `customer.py`

| Класс | Назначение |
|-------|------------|
| **Customer** | Клиент: позиция, состояние (entering / waiting / leaving_happy / leaving_angry / completed), настроение (idle / happy / angry), таймер ожидания. Отрисовка без текстур (фигуры, лицо). `on_order_complete(success)` переводит в уход. |
| **CustomerManager** | Список клиентов, спавн по таймеру, отрисовка, обработка клика по клиенту (приём заказа через `OrderSystem`). |

### `order_system.py`

| Класс | Назначение |
|-------|------------|
| **Order** | Заказ: список позиций (бургер, fries, drink, icecream), время на выполнение, таймер. Генерация заказа, проверка выполнения (`complete_order(prepared_items)`), отрисовка карточки заказа. |
| **OrderSystem** | Очередь заказов (один активный), спавн заказа и клиента по кулдауну, `submit_order(prepared_items)` при клике по клиенту. |

### `food.py`

| Класс | Назначение |
|-------|------------|
| **FoodItem** | Один ингредиент/блюдо: текстура, позиция, масштаб, флаги готовности и прогресс готовки. `draw()`, `update()`, `start_preparing(time)`. |
| **FoodManager** | Инвентарь ингредиентов, сборка бургера (`burger_assembly`), картошка/мороженое/напиток. Оборудование (гриль, фритюр, мороженое, сода). Клики по ингредиентам и оборудованию (`check_equipment_click`). Отдаёт приготовленное через `get_prepared_items()`. Режимы отрисовки: основной экран и кухня (`draw_cooking_view`). |

### `chef.py`

| Класс | Назначение |
|-------|------------|
| **Chef** | Повар: позиция, размеры. Отрисовка без текстур (тело, ноги, фартук, голова, колпак, сковорода). |

### `utils.py`

| Функция | Назначение |
|---------|------------|
| **load_texture(path)** | Загрузка текстуры с диска; при отсутствии файла — плейсхолдер. |
| **format_time(seconds)** | Форматирование времени в вид MM:SS. |
| **get_equipment_position(name)** | Координаты оборудования по имени. |

---

## Ресурсы

- **images/** — фоны (main_menu_bg, level_bg), клиенты (idle/happy/angry), повар, оборудование (grill, fryer, ice_cream_machine, soda_tap), ингредиенты (бургер, картошка, мороженое, напиток), корзина (trash_can).
- **sounds/** — cooking.wav, fail.wav, order.wav, success.wav.

---

## Зависимости

- Указаны в **requests.txt** (в проекте используется этот файл; для pip обычно применяют **requirements.txt**).
